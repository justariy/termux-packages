diff --git a/readline/readline/complete.c b/readline/readline/complete.c
index adce0d69ac..33d0ba3826 100644
--- a/readline/readline/complete.c
+++ b/readline/readline/complete.c
@@ -2231,7 +2231,7 @@ rl_completion_matches (const char *text, rl_compentry_func_t *entry_function)
 char *
 rl_username_completion_function (const char *text, int state)
 {
-#if defined (__WIN32__) || defined (__OPENNT)
+#if defined (__WIN32__) || defined (__OPENNT) || defined (__ANDROID__)
   return (char *)NULL;
 #else /* !__WIN32__ && !__OPENNT) */
   static char *username = (char *)NULL;
